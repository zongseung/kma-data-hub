services:
  weather-downloader:
    build: .
    ports:
      - "8000:8000"
    volumes:
      - ./data:/app/data         # ← 여기가 핵심입니다!
      - ./downloads:/app/downloads   # ← 반드시 존재, compose 재시작 필
      - ./static:/app/static
      - ./templates:/app/templates
    environment:
      - PYTHONPATH=/app
      - DB_PATH=/app/data/local_codes.db
    restart: unless-stopped